<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ids.txt dosyasını yükle
            fetch('ids.txt')
                .then(response => response.text())
                .then(data => {
                    const ids = data.split('\n').map(id => id.trim()).filter(id => id);

                    // URL'den ID'yi al
                    const urlParts = window.location.pathname.split('/redirect.html/vavoo/');
                    const idPart = urlParts[1];
                    const id = idPart ? idPart.split('.m3u8')[0] : null;

                    if (id && ids.includes(id)) {
                        // Özel başlıkları ayarla
                        const headers = new Headers();
                        headers.append('X-Request-ID', generateUniqueId());
                        headers.append('X-GitLatte-Trace', generateRandomTrace());

                        // Yönlendirme URL'si
                        const newUrl = `https://vavoo.to/play/${id}/index.m3u8`;

                        // Başlıkları göstermek için bilgi mesajı ekleyin (isteğe bağlı)
                        console.log('X-Request-ID:', headers.get('X-Request-ID'));
                        console.log('X-GitLatte-Trace:', headers.get('X-GitLatte-Trace'));

                        // Yönlendir
                        window.location.href = newUrl;
                    } else {
                        document.write("ID not found.");
                    }
                });

            // Benzersiz bir kimlik oluştur
            function generateUniqueId() {
                return 'id-' + Math.random().toString(36).substr(2, 16);
            }

            // Rastgele bir izleme kimliği oluştur
            function generateRandomTrace() {
                return Math.random().toString(36).substr(2, 16);
            }
        });
    </script>
</head>
<body>
</body>
</html>
